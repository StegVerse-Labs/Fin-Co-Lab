{
  "case_id": "NUM-04",
  "suite": "NUM",
  "description": "Boundary saturation: actions exactly equal to caps; ensure no fencepost/off-by-one violations.",
  "seed_policy": { "inherit": true },
  "initial_state_overrides": {
    "N_users": 5,
    "initial_vault_balance_per_user": 1000,
    "initial_pocket_balance_per_user": 0,
    "initial_buffer_reserve": 0,
    "initial_epoch": 0,
    "DSM_active": false,
    "DSM_expires_at_epoch": null
  },
  "parameter_overrides": {
    "EAF_cap_per_user_per_epoch": 10,
    "vault_to_pocket_slope_cap_per_user_per_epoch": 7,
    "DSM_duration_epochs": 3,
    "buffer_reserve_floor_ratio": 0.15
  },
  "epoch_actions": [
    { "type": "REQUEST_VAULT_TO_POCKET", "epoch": 1, "user_selector": "all", "amount": 7 },
    { "type": "ADVANCE_EPOCH", "to_epoch": 2 },
    { "type": "REQUEST_ESSENTIAL_SPEND", "epoch": 2, "user_selector": "all", "amount": 10 },
    { "type": "ADVANCE_EPOCH", "to_epoch": 3 }
  ],
  "expected_properties": ["SLOPE_CAP_ENFORCED", "EAF_CAP_ENFORCED", "NO_NEGATIVE_BALANCES", "REPLAY_OK"],
  "expected_classification": { "first_failure_tier": 0, "first_failure_type": "NONE", "note": "Exactly-at-cap must be allowed; not treated as violation." },
  "notes": "Fencepost correctness at cap boundaries."
}
